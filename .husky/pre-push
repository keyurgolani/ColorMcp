#!/bin/sh
echo "ğŸš€ Running pre-push checks..."

# CRITICAL QUALITY GUARDRAILS - THESE MUST NEVER BE BYPASSED
echo "ğŸš¨ CRITICAL QUALITY GUARDRAILS ACTIVE"
echo "âš ï¸  These checks ensure code quality and prevent broken deployments"
echo "âš ï¸  Bypassing these checks is NEVER acceptable"

# Comprehensive test suite (includes type-check, lint, format-check, and coverage)
echo "ğŸ§ª Running comprehensive test suite..."
npm test

echo "ğŸ—ï¸  Verifying build..."
npm run build

# Final validation - redundant but ensures no issues slipped through
echo "ğŸ” Final validation - ensuring no quality issues..."
echo "âœ… All pre-push checks passed! Code quality verified."
echo "ğŸ‰ Ready to push high-quality code!"