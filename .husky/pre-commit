#!/bin/sh
echo "🔍 Running pre-commit checks..."

# STRICT QUALITY GUARDRAILS - NEVER BYPASS THESE CHECKS
echo "⚠️  QUALITY GUARDRAILS ACTIVE - These checks cannot be bypassed"

# Run lint-staged for staged files (includes linting and formatting)
echo "📝 Running linting and formatting on staged files..."
npm run pre-commit

# Additional safety checks - run same checks as local test
echo "🔍 Running TypeScript type checking..."
npm run type-check

echo "🔍 Checking code formatting..."
npm run format:check

echo "🔍 Checking for code quality violations..."
npm run lint

echo "✅ Pre-commit checks passed!"
echo "⚠️  Remember: Quality checks are mandatory and protect code integrity"
